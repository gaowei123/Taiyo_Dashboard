
@{
    ViewBag.Title = "ProductionBuyoff";
}


<div class="container">

    <div class="row titleRow">
        <img class="titleImg" src="~/Resources/Images/headericon.gif" />
        <span class="titleText">Production Buy Off</span>
    </div>
    
    <div class="row searchingBar">
        <div class="col-md-12 panel panel-default searchingPanel" style="padding-top:10px;">
            <form class="form-inline" role="form">
                <div class="form-group searchingBarCol">
                    <label for="txtDate">Date:</label>
                    <input type="text" class="form-control" id="txtDate" CssClass="form-control formDateTimePicker" data-date-format="yyyy-mm-dd" placeholder="Please choose date"/>
                </div>
                <div class="form-group searchingBarCol">
                    <label for="ddlJobNo">Job No:</label>
                    <select id="ddlJobNo" class="form-control selectpicker" data-ng-style="btn-info" onchange="ShowReport();"></select>
                </div>
            </form>
        </div>
    </div>



    @*LASER 1st PIECE BUY-OFF RECORD*@
    <div class="row" >
        <div class="col-md-12  panel panel-default" style="background-color:#FFFFF3">

            <div class="row">
                <div class="col-md-12">
                    <h4><b>LASER 1ST PIECE BUY-OFF RECORD</b></h4>       
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <table class="table table-bordered">
                        <tr>
                            <td colspan="2">
                                Machine ID:<label id="lbMachineID"></label>
                            </td>
                            <td colspan="4">
                                Lot No:<label id="lbLotNo"></label>
                            </td>
                            <td colspan="4">
                                Lot Qty (PCS):<label id="lbLotQty"></label>
                            </td>
                            <td colspan="4">
                                Part No:<label id="lbPartNo"></label>
                            </td>
                            <td colspan="2">
                                Current:<label id="lbCurrent"></label>
                            </td>
                        </tr>


                        <tr>
                            <td colspan="2" rowspan="2" style="text-align:center;">
                                Set-Up
                            </td>
                            <td colspan="8" style="text-align:center;">
                                Appeararance check with illumination Light
                            </td>
                            <td colspan="6" style="text-align:center;">
                                Graphic condition
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="text-align:center;">
                                Black Mark
                            </td>
                            <td colspan="2" style="text-align:center;">
                                Black Dot
                            </td>
                            <td colspan="2" style="text-align:center;">
                                Pin Hole
                            </td>
                            <td colspan="2" style="text-align:center;">
                                Jagged
                            </td>
                            <td colspan="2" style="text-align:center;">
                                Check Guide
                            </td>
                            <td colspan="2" style="text-align:center;">
                                Navitas
                            </td>
                            <td colspan="2" style="text-align:center;">
                                Smart Scope
                            </td>
                        </tr>

                        <tr>
                            <td colspan="2" style="text-align:center;">1st</td>
                            <td colspan="2" align="center" valign="middle" id="tdBlackMark1st"></td>
                            <td colspan="2" align="center" valign="middle" id="tdBlackDot1st"></td>
                            <td colspan="2" align="center" valign="middle" id="tdPinHole1st"></td>
                            <td colspan="2" align="center" valign="middle" id="tdJagged1st"></td>
                            <td colspan="2" align="center" valign="middle" id="tdCheckGuide1st"></td>
                            <td colspan="2" align="center" valign="middle" id="tdNavitas1st"></td>
                            <td colspan="2" align="center" valign="middle" id="tdSmartScope1st"></td>
                        </tr>
                        <tr>
                            <td colspan="2" style="text-align:center;">2nd</td>
                            <td colspan="2" align="center" valign="middle" id="tdBlackMark2nd"></td>
                            <td colspan="2" align="center" valign="middle" id="tdBlackDot2nd"></td>
                            <td colspan="2" align="center" valign="middle" id="tdPinHole2nd"></td>
                            <td colspan="2" align="center" valign="middle" id="tdJagged2nd"></td>
                            <td colspan="2" align="center" valign="middle" id="tdCheckGuide2nd"></td>
                            <td colspan="2" align="center" valign="middle" id="tdNavitas2nd"></td>
                            <td colspan="2" align="center" valign="middle" id="tdSmartScope2nd"></td>
                        </tr>
                        <tr>
                            <td colspan="2" style="text-align:center;">In-process</td>
                            <td colspan="2" align="center" valign="middle" id="tdBlackMarkIN"></td>
                            <td colspan="2" align="center" valign="middle" id="tdBlackDotIN"></td>
                            <td colspan="2" align="center" valign="middle" id="tdPinHoleIN"></td>
                            <td colspan="2" align="center" valign="middle" id="tdJaggedIN"></td>
                            <td colspan="2" align="center" valign="middle" id="tdCheckGuideIN"></td>
                            <td colspan="2" align="center" valign="middle" id="tdNavitasIN"></td>
                            <td colspan="2" align="center" valign="middle" id="tdSmartScopeIN"></td>
                        </tr>

                        <tr>
                            <td colspan="2">
                                MC Operator:
                            </td>
                            <td colspan="2">
                                <label id="lbMcOperator"></label>
                            </td>
                            <td colspan="2">
                                Buyoff By:
                            </td>
                            <td colspan="2">
                                <label id="lbBuyoffBy"></label>
                            </td>
                            <td colspan="2">
                                Approved By:
                            </td>
                            <td colspan="2">
                                <label id="lbApprovedBy"></label>
                            </td>
                            <td colspan="2">
                                Check By:
                            </td>
                            <td colspan="2">
                                <label id="lbCheckBy"></label>
                            </td>
                        </tr>

                    </table>
                </div>
            </div>

        </div>
    </div>




    @*LASER Parameters setting*@
    <div class="row " >
        <div class="col-md-12 panel panel-default" style="background-color:#FFFFF3">

            <div class="row">
                <div class="col-md-12">
                    <h4><b>LASER MACHINE SETTING</b></h4>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <table class="table table-bordered">
                        <tr>
                            <td>
                                Rate:<label id="lbRate"></label>
                            </td>
                            <td>
                                Frequency:<label id="lbFrequency"></label>
                            </td>
                            <td>
                                Power%:<label id="lbPower"></label>
                            </td>
                            <td>
                                Repeat:<label id="lbRepeat"></label>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

        </div>
    </div>







    @*PQC INSPECTION RECORD FOR MOULDING*@
    <div class="row ">
        <div class="col-md-12 panel panel-default" style="background-color:#FFFFF3" >


            <div class="row">
                <div class="col-md-12">
                    <h4><b>PQC INSPECTION RECORD FOR MOULDING</b></h4>
                </div>
            </div>

            <div class="row" style="margin-bottom:10px;">
                <div class="col-md-12">
                    <table id="tableMouldingDefect" data-toggle="table"> </table> 
                </div>
            </div>
                
        </div>
    </div>


    @*PQC INSPECTION RECORD FOR PAINTING*@
    <div class="row " >
        <div class="col-md-12 panel panel-default" style="background-color:#FFFFF3">

            <div class="row">
                <div class="col-md-12">
                    <h4><b>PQC INSPECTION RECORD FOR PAINTING</b></h4>
                </div>
            </div>

            <div class="row" style="margin-bottom:10px;">
                <div class="col-md-12">
                    <table id="tablePaintingDefect" data-toggle="table"></table>    
                </div>
            </div>
                                
        </div>
    </div>


    @*PQC INSPECTION RECORD FOR LASER*@
    <div class="row " >
        <div class="col-md-12 panel panel-default" style="background-color:#FFFFF3">

            <div class="row">
                <div class="col-md-12">
                    <h4><b>PQC INSPECTION RECORD FOR LASER</b></h4>
                </div>
            </div>

            <div class="row" style="margin-bottom:10px;">
                <div class="col-md-12">
                    <table id="tableLaserDefect" data-toggle="table"></table>    
                </div>
            </div>
            
                    
        </div>
    </div>


    @*PQC INSPECTION RECORD FOR OTHERS*@
    <div class="row ">
        <div class="col-md-12 panel panel-default" style="background-color:#FFFFF3">

            <div class="row">
                <div class="col-md-12">
                    <h4><b>PQC INSPECTION RECORD FOR OTHERS</b></h4>
                </div>
            </div>

            <div class="row" style="margin-bottom:10px;">
                <div class="col-md-12">
                    <table id="tableOthersDefect" data-toggle="table"></table>
                </div>
            </div>

           
           
        </div>
    </div>


</div>


@*下拉框组件*@
<script src="~/Plugins/bootstrap-select-1.13.0/dist/js/bootstrap-select.min.js"></script>
<link href="~/Plugins/bootstrap-select-1.13.0/dist/css/bootstrap-select.min.css" rel="stylesheet" />

@*时间框组件*@
<script src="~/Plugins/bootstrap-datetimepicker-master/js/bootstrap-datetimepicker.js"></script>
<link href="~/Plugins/bootstrap-datetimepicker-master/css/bootstrap-datetimepicker.min.css" rel="stylesheet" />

<script src="~/plugins/bootstrap-table-1.15.3/dist/bootstrap-table.min.js"></script>
<link href="~/plugins/bootstrap-table-1.15.3/dist/bootstrap-table.min.css" rel="stylesheet" />

<script type="text/javascript">

    var apiGetCheckingDate = window.globalConfig.rootDirectory + '/Buyoff/GetCheckingDate';
    var apiGetBuyoffJobList = window.globalConfig.rootDirectory + '/Buyoff/GetJobList';
    var apiGetLaserModel = window.globalConfig.rootDirectory + '/Buyoff/GetLaserBuyoffRecord';
    var apiGetLaserParameterModel = window.globalConfig.rootDirectory + '/Buyoff/GetLaserParameter';
    var apiGetMouldingDefect = window.globalConfig.rootDirectory + '/Buyoff/GetMouldDefect';
    var apiGetPaintingDefect = window.globalConfig.rootDirectory + '/Buyoff/GetPaintDefect';
    var apiGetLaserDefect = window.globalConfig.rootDirectory + '/Buyoff/GetLaserDefect';
    var apiGetOthersDefect = window.globalConfig.rootDirectory + '/Buyoff/GetOthersDefect';



    //初始化时间框
    $('#txtDate').datetimepicker({
        weekStart: 1,
        todayBtn: 1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        minView: 2,
        forceParse: 0,
        initialDate: new Date()
    });



    $(document).ready(function () {

        let jobNo = getUrlParam("JobNumber");
        if (jobNo == '' || jobNo == null)
            return;


        $.ajax({
            type: "POST",
            dataType: "text",
            url: apiGetCheckingDate,
            data: { JobNo: jobNo },

            success: function (data) {
                $('#txtDate').val(data);
                setJobList();
            },

            error: function () {
                alert("Setting Job no list error !");
            }
        });
    });






    //set job no list
    $('#txtDate').change(function () { setJobList(); });


    function setJobList() {


        if ($('#txtDate').val() == '') {
            return;
        }

        $.ajax({
            type: "POST",
            dataType: "json",
            url: apiGetBuyoffJobList,
            data: {
                Date: $('#txtDate').val()
            },
            success: function (data) {

                $('#ddlJobNo').empty();//清空
                $('#ddlJobNo').append($("<option value=''></option>"));//添加一个空选项

                for (var i = 0; i < data.length; i++) {
                    $('#ddlJobNo').append($("<option value='" + data[i] + "'>" + data[i] + "</option>"));
                }


                $('#ddlJobNo').selectpicker("refresh");

                var jobNo = getUrlParam("JobNumber");
                if (jobNo != '' && jobNo != null) {
                    $('#ddlJobNo').val(jobNo);
                    $('#ddlJobNo').selectpicker("refresh");


                    ShowReport();
                }
            },
            error: function () {
                alert("Setting Job no list error !");
            }
        });
    }


    function ShowReport() {


        var jobNo = $('#ddlJobNo').val();

        if (jobNo == '') {
            return;
        }


        setLaserBuyoff(jobNo);

        setLaserParameters(jobNo);

        setDefectTable(jobNo);

    }


   


    function setLaserBuyoff(jobNo) {
        $.ajax({
            type: "POST",
            dataType: "json",
            url: apiGetLaserModel,
            data: {
                JobNo: jobNo
            },
            success: function (data) {


                //调试用的
                console.log(data);

                if (data == "") {
                    $('#lbMachineID').text('');
                    $('#lbLotNo').text('');
                    $('#lbLotQty').text('');
                    $('#lbPartNo').text('');
                    $('#lbCurrent').text('');

                    $('#lbMcOperator').text('');
                    $('#lbBuyoffBy').text('');
                    $('#lbApprovedBy').text('');
                    $('#lbCheckBy').text('');


                    $('#tdBlackMark1st').html('');
                    $('#tdBlackDot1st').html('');
                    $('#tdPinHole1st').html('');
                    $('#tdJagged1st').html('');
                    $('#tdCheckGuide1st').html('');
                    $('#tdNavitas1st').html('');
                    $('#tdSmartScope1st').html('');


                    $('#tdBlackMark2nd').html('');
                    $('#tdBlackDot2nd').html('');
                    $('#tdPinHole2nd').html('');
                    $('#tdJagged2nd').html('');
                    $('#tdCheckGuide2nd').html('');
                    $('#tdNavitas2nd').html('');
                    $('#tdSmartScope2nd').html('');


                    $('#tdBlackMarkIN').html('');
                    $('#tdBlackDotIN').html('');
                    $('#tdPinHoleIN').html('');
                    $('#tdJaggedIN').html('');
                    $('#tdCheckGuideIN').html('');
                    $('#tdNavitasIN').html('');
                    $('#tdSmartScopeIN').html('');
                
                } else {

                    $('#lbMachineID').text(data.machineID);
                    $('#lbLotNo').text(data.lotNo);
                    $('#lbLotQty').text(data.lotQty);
                    $('#lbPartNo').text(data.partNo);
                    $('#lbCurrent').text(data.current);

                    $('#lbMcOperator').text(data.mcOperator);
                    $('#lbBuyoffBy').text(data.buyoffBy);
                    $('#lbApprovedBy').text(data.approvedBy);
                    $('#lbCheckBy').text(data.checkBy);





                    $('#tdBlackMark1st').html('<label style="background-color:' + data.blackMark1stColor + ';width:50px;">' + data.blackMark1st + '</label>');
                    $('#tdBlackDot1st').html('<label style="background-color:' + data.blackDot1stColor + ';width:50px;">' + data.blackDot1st + '</label>');
                    $('#tdPinHole1st').html('<label style="background-color:' + data.pinHole1stColor + ';width:50px;">' + data.pinHole1st + '</label>');
                    $('#tdJagged1st').html('<label style="background-color:' + data.jagged1stColor + ';width:50px;">' + data.jagged1st + '</label>');
                    $('#tdCheckGuide1st').html('<label style="background-color:' + data.checkGuide1stColor + ';width:50px;">' + data.checkGuide1st + '</label>');
                    $('#tdNavitas1st').html('<label style="background-color:' + data.navitas1stColor + ';width:50px;">' + data.navitas1st + '</label>');
                    $('#tdSmartScope1st').html('<label style="background-color:' + data.smartScope1stColor + ';width:50px;">' + data.smartScope1st + '</label>');


                    $('#tdBlackMark2nd').html('<label style="background-color:' + data.blackMark2ndColor + ';width:50px;">' + data.blackMark2nd + '</label>');
                    $('#tdBlackDot2nd').html('<label style="background-color:' + data.blackDot2ndColor + ';width:50px;">' + data.blackDot2nd + '</label>');
                    $('#tdPinHole2nd').html('<label style="background-color:' + data.pinHole2ndColor + ';width:50px;">' + data.pinHole2nd + '</label>');
                    $('#tdJagged2nd').html('<label style="background-color:' + data.jagged2ndColor + ';width:50px;">' + data.jagged2nd + '</label>');
                    $('#tdCheckGuide2nd').html('<label style="background-color:' + data.checkGuide2ndColor + ';width:50px;">' + data.checkGuide2nd + '</label>');
                    $('#tdNavitas2nd').html('<label style="background-color:' + data.navitas2ndColor + ';width:50px;">' + data.navitas2nd + '</label>');
                    $('#tdSmartScope2nd').html('<label style="background-color:' + data.smartScope2ndColor + ';width:50px;">' + data.smartScope2nd + '</label>');


                    $('#tdBlackMarkIN').html('<label style="background-color:' + data.blackMarkINColor + ';width:50px;">' + data.blackMarkIN + '</label>');
                    $('#tdBlackDotIN').html('<label style="background-color:' + data.blackDotINColor + ';width:50px;">' + data.blackDotIN + '</label>');
                    $('#tdPinHoleIN').html('<label style="background-color:' + data.pinHoleINColor + ';width:50px;">' + data.pinHoleIN + '</label>');
                    $('#tdJaggedIN').html('<label style="background-color:' + data.jaggedINColor + ';width:50px;">' + data.jaggedIN + '</label>');
                    $('#tdCheckGuideIN').html('<label style="background-color:' + data.checkGuideINColor + ';width:50px;">' + data.checkGuideIN + '</label>');
                    $('#tdNavitasIN').html('<label style="background-color:' + data.navitasINColor + ';width:50px;">' + data.navitasIN + '</label>');
                    $('#tdSmartScopeIN').html('<label style="background-color:' + data.smartScopeINColor + ';width:50px;">' + data.smartScopeIN + '</label>');
                }



            },
            error: function () {
                alert("Setting Job no list error !");
            }
        });
    }


    function setLaserParameters(jobNo) {
        $.ajax({
            type: "POST",
            dataType: "json",
            url: apiGetLaserParameterModel,
            data: {
                JobNo: jobNo
            },
            success: function (data) {


                //调试用的
                console.log(data);

                if (data == "") {
                    $('#lbRate').text('');
                    $('#lbFrequency').text('');
                    $('#lbPower').text('');
                    $('#lbRepeat').text('');
                } else {

                    $('#lbRate').text(data.rate);
                    $('#lbFrequency').text(data.frequency);
                    $('#lbPower').text(data.power);
                    $('#lbRepeat').text(data.repeat);
                }
            },
            error: function () {
               //alert("Setting Job no list error !");
            }
        });
    }



    function setDefectTable(jobNo) {

        var params = {
            JobID: jobNo,
            TrackingID: '',
            IsExcludeTracking: false,
            CheckProcess:''
        }


        //重新加载必须将原本table清空
        $('#tableMouldingDefect').bootstrapTable('destroy');
        $('#tablePaintingDefect').bootstrapTable('destroy');
        $('#tableLaserDefect').bootstrapTable('destroy');
        $('#tableOthersDefect').bootstrapTable('destroy');


        $('#tableMouldingDefect').bootstrapTable({ // 对应table标签的id


            //call后台数据
            method: 'post',
            dataType: 'json',
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            url: apiGetMouldingDefect,

            cache: false, // 设置为 false 禁用 AJAX 数据缓存， 默认为true

            //sidePagination: 'server', // 设置为服务器端分页
            queryParams: params,
            //sortName: 'id', // 要排序的字段
            //sortOrder: 'desc', // 排序规则


            //表头样式 undefined, thead-light, thead-dark, 
            theadClasses: 'thead-title',

            //表格样式
            classes: 'table table-bordered table-hover table-striped',


            striped: false,  //表格显示条纹，默认为false
            pagination: false, // 在表格底部显示分页组件，默认false
            //pageList: [10, 20], // 设置页面可以显示的数据条数
            //pageSize: 10, // 页面数据条数
            //pageNumber: 1, // 首页页码


            rowStyle: function (row, index) {
                //console.log(row);
                return {
                    //防止数据自动换行
                    css: { "overflow": "hidden", "text-overflow": "ellipsis", "white-space": "nowrap", "background-color": "#FFFFF3" }
                }

            },

            columns: [
            {
                field: 'materialNo',
                title: 'Material No',
                align: 'center',
                valign: 'middle',
                width: 180
            },
            {
                field: 'rawPartScratch',
                title: 'Raw Part Scratch',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'oilStain',
                title: 'Oil Stain',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'dented',
                title: 'Dented',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'dust',
                title: 'Dust',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'flyout',
                title: 'Flyout',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'overSpray',
                title: 'Over Spray',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'weldline',
                title: 'Weld line',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'crack',
                title: 'Crack',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'gasMark',
                title: 'Gas Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'sinkMark',
                title: 'Sink Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'bubble',
                title: 'Bubble',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'whiteDot',
                title: 'White Dot',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'blackDot',
                title: 'Black Dot',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'redDot',
                title: 'Red Dot',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'poorGateCut',
                title: 'Poor Gate Cut',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'highGate',
                title: 'High Gate',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'whiteMark',
                title: 'White Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'dragMark',
                title: 'Drag Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'foreighMaterial',
                title: 'Foreigh Material',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'doubleClaim',
                title: 'Double Claim',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'shortMould',
                title: 'Short Mould',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'flashing',
                title: 'Flashing',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'pinkMark',
                title: 'Pink Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'deform',
                title: 'Deform',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'damage',
                title: 'Damage',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'mouldDirt',
                title: 'Mould Dirt',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'yelloWish',
                title: 'Yello Wish',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'oilMark',
                title: 'Oil Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'printingMark',
                title: 'Printing Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'printingUneven',
                title: 'Printing Uneven',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'printingColorDark',
                title: 'Printing Color Dark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'wrongOrietation',
                title: 'Wrong Orietation',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'other',
                title: 'Other',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'totalRej',
                title: 'Total',
                align: 'center',
                valign: 'middle'
            }

            ],

            onLoadSuccess: function (data) {  //加载成功时执行
                console.log(data);


                var rawPartScratch = 0;
                var oilStain = 0;
                var dented = 0;
                var dust = 0;
                var flyout = 0;
                var overSpray = 0;
                var weldline = 0;
                var crack = 0;
                var gasMark = 0;
                var sinkMark = 0;
                var bubble = 0;
                var whiteDot = 0;
                var blackDot = 0;
                var redDot = 0;
                var poorGateCut = 0;
                var highGate = 0;
                var whiteMark = 0;
                var dragMark = 0;
                var foreighMaterial = 0;
                var doubleClaim = 0;
                var shortMould = 0;
                var flashing = 0;
                var pinkMark = 0;
                var deform = 0;
                var damage = 0;
                var mouldDirt = 0;
                var yelloWish = 0;
                var oilMark = 0;
                var printingMark = 0;
                var printingUneven = 0;
                var printingColorDark = 0;
                var wrongOrietation = 0;
                var other = 0;




                for (var i = 0; i < data.length; i++) {
                  
                    rawPartScratch += data[i].rawPartScratch;
                    oilStain += data[i].oilStain;
                    dented += data[i].dented;
                    dust += data[i].dust;
                    flyout += data[i].flyout;
                    overSpray += data[i].overSpray;
                    weldline += data[i].weldline;
                    crack += data[i].crack;
                    gasMark += data[i].gasMark;
                    sinkMark += data[i].sinkMark;
                    bubble += data[i].bubble;
                    whiteDot += data[i].whiteDot;
                    blackDot += data[i].blackDot;
                    redDot += data[i].redDot;
                    poorGateCut += data[i].poorGateCut;
                    highGate += data[i].highGate;
                    whiteMark += data[i].whiteMark;
                    dragMark += data[i].dragMark;
                    foreighMaterial += data[i].foreighMaterial;
                    doubleClaim += data[i].doubleClaim;
                    shortMould += data[i].shortMould;
                    flashing += data[i].flashing;
                    pinkMark += data[i].pinkMark;
                    deform += data[i].deform;
                    damage += data[i].damage;
                    mouldDirt += data[i].mouldDirt;
                    yelloWish += data[i].yelloWish;
                    oilMark += data[i].oilMark;
                    printingMark += data[i].printingMark;
                    printingUneven += data[i].printingUneven;
                    printingColorDark += data[i].printingColorDark;
                    wrongOrietation += data[i].wrongOrietation;
                    other += data[i].other;
                }


                if (rawPartScratch == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'rawPartScratch');
                if (oilStain == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'oilStain');
                if (dented == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'dented');
                if (dust == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'dust');
                if (flyout == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'flyout');
                if (overSpray == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'overSpray');
                if (weldline == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'weldline');
                if (crack == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'crack');
                if (gasMark == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'gasMark');
                if (sinkMark == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'sinkMark');
                if (bubble == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'bubble');
                if (whiteDot == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'whiteDot');
                if (blackDot == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'blackDot');
                if (redDot == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'redDot');
                if (poorGateCut == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'poorGateCut');
                if (highGate == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'highGate');
                if (whiteMark == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'whiteMark');
                if (dragMark == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'dragMark');
                if (foreighMaterial == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'foreighMaterial');
                if (doubleClaim == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'doubleClaim');
                if (shortMould == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'shortMould');
                if (flashing == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'flashing');
                if (pinkMark == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'pinkMark');
                if (deform == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'deform');
                if (damage == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'damage');
                if (mouldDirt == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'mouldDirt');
                if (yelloWish == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'yelloWish');
                if (oilMark == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'oilMark');
                if (printingMark == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'printingMark');
                if (printingUneven == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'printingUneven');
                if (printingColorDark == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'printingColorDark');
                if (wrongOrietation == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'wrongOrietation');
                if (other == 0) $('#tableMouldingDefect').bootstrapTable('hideColumn', 'other');


            },
            onLoadError: function () {  //加载失败时执行
                console.log("加载数据失败");
            }

        });
        
        $('#tablePaintingDefect').bootstrapTable({ // 对应table标签的id


            //call后台数据
            method: 'post',
            dataType: 'json',
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            url: apiGetPaintingDefect,

            cache: false, // 设置为 false 禁用 AJAX 数据缓存， 默认为true

            //sidePagination: 'server', // 设置为服务器端分页
            queryParams: params,
            //sortName: 'id', // 要排序的字段
            //sortOrder: 'desc', // 排序规则


            //表头样式 undefined, thead-light, thead-dark, 
            theadClasses: 'thead-title',

            //表格样式
            classes: 'table table-bordered table-hover table-striped',


            striped: false,  //表格显示条纹，默认为false
            pagination: false, // 在表格底部显示分页组件，默认false
            //pageList: [10, 20], // 设置页面可以显示的数据条数
            //pageSize: 10, // 页面数据条数
            //pageNumber: 1, // 首页页码


            rowStyle: function (row, index) {
                return {
                    //防止数据自动换行
                    css: { "overflow": "hidden", "text-overflow": "ellipsis", "white-space": "nowrap", "background-color": "#FFFFF3" }
                }

            },

            columns: [
            {
                field: 'materialNo',
                title: 'Material No',
                align: 'center',
                valign: 'middle',
                width: 180
            },
            {
                field: 'particle',
                title: 'Particle',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'fibre',
                title: 'Fibre',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'manyParticle',
                title: 'Many Particle',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'stainMark',
                title: 'Stain Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'unevenPaint',
                title: 'Uneven Paint',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'underCoatUnevenPaint',
                title: 'Under Coat Uneven Paint',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'underSpray',
                title: 'Under Spray',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'whiteDot',
                title: 'White Dot',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'silverDot',
                title: 'Silver Dot',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'dust',
                title: 'Dust',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'paintCrack',
                title: 'Paint Crack',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'bubble',
                title: 'Bubble',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'scratch',
                title: 'Scratch',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'abrasionMark',
                title: 'Abrasion Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'paintDripping',
                title: 'Paint Dripping',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'roughSurface',
                title: 'Rough Surface',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'shinning',
                title: 'Shinning',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'matt',
                title: 'Matt',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'paintPinHole',
                title: 'Paint Pin Hole',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'lightLeakage',
                title: 'Light Leakage',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'whiteMark',
                title: 'White Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'dented',
                title: 'Dented',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'particleForLaserSetup',
                title: 'Particle For Laser Setup',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'shortage',
                title: 'Shortage',
                align: 'center',
                valign: 'middle'
            },         
            {
                field: 'setup',
                title: 'Setup',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'other',
                title: 'Other',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'totalRej',
                title: 'Total',
                align: 'center',
                valign: 'middle'
            }

            ],

            onLoadSuccess: function (data) {  //加载成功时执行
             
                let particle = 0;
                let fibre = 0;
                let manyParticle = 0;
                let stainMark = 0;
                let unevenPaint = 0;
                let underCoatUnevenPaint = 0;
                let underSpray = 0;
                let whiteDot = 0;
                let silverDot = 0;
                let dust = 0;
                let paintCrack = 0;
                let bubble = 0;
                let scratch = 0;
                let abrasionMark = 0;
                let paintDripping = 0;
                let roughSurface = 0;
                let shinning = 0;
                let matt = 0;
                let paintPinHole = 0;
                let lightLeakage = 0;
                let whiteMark = 0;
                let dented = 0;
                let particleForLaserSetup = 0;
                let shortage = 0;
                let setup = 0;
                let other = 0;
              




                for (var i = 0; i < data.length; i++) {

                    particle += data[i].particle;
                    fibre += data[i].fibre;
                    manyParticle += data[i].manyParticle;
                    stainMark += data[i].stainMark;
                    unevenPaint += data[i].unevenPaint;
                    underCoatUnevenPaint += data[i].underCoatUnevenPaint;
                    underSpray += data[i].underSpray;
                    whiteDot += data[i].whiteDot;
                    silverDot += data[i].silverDot;
                    dust += data[i].dust;
                    paintCrack += data[i].paintCrack;
                    bubble += data[i].bubble;
                    scratch += data[i].scratch;
                    abrasionMark += data[i].abrasionMark;
                    paintDripping += data[i].paintDripping;
                    roughSurface += data[i].roughSurface;
                    shinning += data[i].shinning;
                    matt += data[i].matt;
                    paintPinHole += data[i].paintPinHole;
                    lightLeakage += data[i].lightLeakage;
                    whiteMark += data[i].whiteMark;
                    dented += data[i].dented;
                    particleForLaserSetup += data[i].particleForLaserSetup;
                    shortage += data[i].shortage;
                    setup += data[i].setup;
                    other += data[i].other;
                }


                if (particle == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'particle');
                if (fibre == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'fibre');
                if (manyParticle == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'manyParticle');
                if (stainMark == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'stainMark');
                if (unevenPaint == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'unevenPaint');
                if (underCoatUnevenPaint == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'underCoatUnevenPaint');
                if (underSpray == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'underSpray');
                if (whiteDot == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'whiteDot');
                if (silverDot == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'silverDot');
                if (dust == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'dust');
                if (paintCrack == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'paintCrack');
                if (bubble == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'bubble');
                if (scratch == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'scratch');
                if (abrasionMark == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'abrasionMark');
                if (paintDripping == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'paintDripping');
                if (roughSurface == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'roughSurface');
                if (shinning == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'shinning');
                if (matt == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'matt');
                if (paintPinHole == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'paintPinHole');
                if (lightLeakage == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'lightLeakage');
                if (whiteMark == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'whiteMark');
                if (dented == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'dented');
                if (particleForLaserSetup == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'particleForLaserSetup');
                if (shortage == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'shortage');
                if (setup == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'setup');
                if (other == 0) $('#tablePaintingDefect').bootstrapTable('hideColumn', 'other');

            },
            onLoadError: function () {  //加载失败时执行
                console.log("加载数据失败");
            }

        });

        $('#tableLaserDefect').bootstrapTable({ // 对应table标签的id


            //call后台数据
            method: 'post',
            dataType: 'json',
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            url: apiGetLaserDefect,

            cache: false, // 设置为 false 禁用 AJAX 数据缓存， 默认为true

            //sidePagination: 'server', // 设置为服务器端分页
            queryParams: params,
            //sortName: 'id', // 要排序的字段
            //sortOrder: 'desc', // 排序规则


            //表头样式 undefined, thead-light, thead-dark, 
            theadClasses: 'thead-title',

            //表格样式
            classes: 'table table-bordered table-hover table-striped',


            striped: false,  //表格显示条纹，默认为false
            pagination: false, // 在表格底部显示分页组件，默认false
            //pageList: [10, 20], // 设置页面可以显示的数据条数
            //pageSize: 10, // 页面数据条数
            //pageNumber: 1, // 首页页码


            rowStyle: function (row, index) {
                //console.log(row);
                return {
                    //防止数据自动换行
                    css: { "overflow": "hidden", "text-overflow": "ellipsis", "white-space": "nowrap", "background-color": "#FFFFF3" }
                }

            },

            columns: [
            {
                field: 'materialNo',
                title: 'Material No',
                align: 'center',
                valign: 'middle',
                width: 180
            },
            {
                field: 'blackMark',
                title: 'Black Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'blackDot',
                title: 'Black Dot',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'graphicShiftCheckByPQC',
                title: 'Graphic Shift Check By PQC',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'graphicShiftCheckByMC',
                title: 'Graphic Shift Check By M/C',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'scratch',
                title: 'Scratch',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'jagged',
                title: 'Jagged',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'laserBubble',
                title: 'Laser Bubble',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'doublOuterLine',
                title: 'Doubl Outer Line',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'pinHold',
                title: 'Pin Hold',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'poorLaser',
                title: 'Poor Laser',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'burmMark',
                title: 'Burm Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'stainMark',
                title: 'Stain Mark',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'graphicSmall',
                title: 'Graphic Small',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'doubleLaser',
                title: 'Double Laser',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'colorYellow',
                title: 'Color Yellow',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'crack',
                title: 'Crack',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'smoke',
                title: 'Smoke',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'wrongOrientation',
                title: 'Wrong Orientation',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'dented',
                title: 'Dented',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'setup',
                title: 'Setup',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'buyoff',
                title: 'Buyoff',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'other',
                title: 'Other',
                align: 'center',
                valign: 'middle'
            },
            {
                field: 'totalRej',
                title: 'Total',
                align: 'center',
                valign: 'middle'
            }

            ],

            onLoadSuccess: function (data) {  //加载成功时执行

                var blackMark = 0;
                var blackDot = 0;
                var graphicShiftCheckByPQC = 0;
                var graphicShiftCheckByMC = 0;
                var scratch = 0;
                var jagged = 0;
                var laserBubble = 0;
                var doublOuterLine = 0;
                var pinHold = 0;
                var poorLaser = 0;
                var burmMark = 0;
                var stainMark = 0;
                var graphicSmall = 0;
                var doubleLaser = 0;
                var colorYellow = 0;
                var crack = 0;
                var smoke = 0;
                var wrongOrientation = 0;
                var dented = 0;
                var setup = 0;
                var buyoff = 0;
                var other = 0;
         
                

                for (var i = 0; i < data.length; i++) {

                    blackMark += data[i].blackMark;
                    blackDot += data[i].blackDot;
                    graphicShiftCheckByPQC += data[i].graphicShiftCheckByPQC;
                    graphicShiftCheckByMC += data[i].graphicShiftCheckByMC;
                    scratch += data[i].scratch;
                    jagged += data[i].jagged;
                    laserBubble += data[i].laserBubble;
                    doublOuterLine += data[i].doublOuterLine;
                    pinHold += data[i].pinHold;
                    poorLaser += data[i].poorLaser;
                    burmMark += data[i].burmMark;
                    stainMark += data[i].stainMark;
                    graphicSmall += data[i].graphicSmall;
                    doubleLaser += data[i].doubleLaser;
                    colorYellow += data[i].colorYellow;
                    crack += data[i].crack;
                    smoke += data[i].smoke;
                    wrongOrientation += data[i].wrongOrientation;
                    dented += data[i].dented;
                    setup += data[i].setup;
                    buyoff += data[i].buyoff;
                    other += data[i].other;
                }



                if (blackMark == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'blackMark');
                if (blackDot == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'blackDot');
                if (graphicShiftCheckByPQC == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'graphicShiftCheckByPQC');
                if (graphicShiftCheckByMC == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'graphicShiftCheckByMC');
                if (scratch == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'scratch');
                if (jagged == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'jagged');
                if (laserBubble == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'laserBubble');
                if (doublOuterLine == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'doublOuterLine');
                if (pinHold == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'pinHold');
                if (poorLaser == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'poorLaser');
                if (burmMark == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'burmMark');
                if (stainMark == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'stainMark');
                if (graphicSmall == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'graphicSmall');
                if (doubleLaser == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'doubleLaser');
                if (colorYellow == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'colorYellow');
                if (crack == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'crack');
                if (smoke == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'smoke');
                if (wrongOrientation == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'wrongOrientation');
                if (dented == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'dented');
                if (setup == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'setup');
                if (buyoff == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'buyoff');
                if (other == 0) $('#tableLaserDefect').bootstrapTable('hideColumn', 'other');



            },
            onLoadError: function () {  //加载失败时执行
                console.log("加载数据失败");
            }

        });

        $('#tableOthersDefect').bootstrapTable({ // 对应table标签的id


            //call后台数据
            method: 'post',
            dataType: 'json',
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            url: apiGetOthersDefect,

            cache: false, // 设置为 false 禁用 AJAX 数据缓存， 默认为true

            //sidePagination: 'server', // 设置为服务器端分页
            queryParams: params,
            //sortName: 'id', // 要排序的字段
            //sortOrder: 'desc', // 排序规则


            //表头样式 undefined, thead-light, thead-dark, 
            theadClasses: 'thead-title',

            //表格样式
            classes: 'table table-bordered table-hover table-striped',


            striped: false,  //表格显示条纹，默认为false
            pagination: false, // 在表格底部显示分页组件，默认false
            //pageList: [10, 20], // 设置页面可以显示的数据条数
            //pageSize: 10, // 页面数据条数
            //pageNumber: 1, // 首页页码


            rowStyle: function (row, index) {
                //console.log(row);
                return {
                    //防止数据自动换行
                    css: { "overflow": "hidden", "text-overflow": "ellipsis", "white-space": "nowrap", "background-color": "#FFFFF3" }
                }

            },

            columns: [
            {
                field: 'materialNo',
                title: 'Material No',
                align: 'center',
                valign: 'middle',
                width: 180
            },
            {
                field: 'pqcScratch',
                title: 'PQC Scratch',
                align: 'center',
                valign: 'middle',
            },
            {
                field: 'overSpray',
                title: 'Over Spray',
                align: 'center',
                valign: 'middle',
            },
            {
                field: 'bubble',
                title: 'Bubble',
                align: 'center',
                valign: 'middle',
            },
            {
                field: 'oilStain',
                title: 'Oil Stain',
                align: 'center',
                valign: 'middle',
            },
            {
                field: 'dragMark',
                title: 'Drag Mark',
                align: 'center',
                valign: 'middle',
            },
            {
                field: 'lightLeakage',
                title: 'Light Leakage',
                align: 'center',
                valign: 'middle',
            },
            {
                field: 'lightBubble',
                title: 'Light Bubble',
                align: 'center',
                valign: 'middle',
            },
            {
                field: 'whiteDotInMaterial',
                title: 'White Dot In Material',
                align: 'center',
                valign: 'middle',
            },
             {
                 field: 'qa',
                 title: 'QA',
                 align: 'center',
                 valign: 'middle'
             },
            {
                field: 'other',
                title: 'Other',
                align: 'center',
                valign: 'middle',
            },
            {
                field: 'totalRej',
                title: 'Total',
                align: 'center',
                valign: 'middle',
            }

            ],

            onLoadSuccess: function (data) {  //加载成功时执行
                console.log(data);


                var pqcScratch = 0;
                var blackDot = 0;
                var overSpray = 0;
                var bubble = 0;
                var oilStain = 0;
                var dragMark = 0;
                var lightLeakage = 0;
                var lightBubble = 0;
                var whiteDotInMaterial = 0;
                var other = 0;
                var qa = 0;



                for (var i = 0; i < data.length; i++) {

                    pqcScratch += data[i].pqcScratch;
                    blackDot += data[i].blackDot;
                    overSpray += data[i].overSpray;
                    bubble += data[i].overSpray;
                    oilStain += data[i].oilStain;
                    dragMark += data[i].dragMark;
                    lightLeakage += data[i].lightLeakage;
                    lightBubble += data[i].lightBubble;
                    whiteDotInMaterial += data[i].whiteDotInMaterial;
                    other += data[i].other;
                    qa += data[i].qa;
                }



                if (pqcScratch == 0) $('#tableOthersDefect').bootstrapTable('hideColumn', 'pqcScratch');
                if (blackDot == 0) $('#tableOthersDefect').bootstrapTable('hideColumn', 'blackDot');
                if (overSpray == 0) $('#tableOthersDefect').bootstrapTable('hideColumn', 'overSpray');
                if (bubble == 0) $('#tableOthersDefect').bootstrapTable('hideColumn', 'bubble');
                if (oilStain == 0) $('#tableOthersDefect').bootstrapTable('hideColumn', 'oilStain');
                if (dragMark == 0) $('#tableOthersDefect').bootstrapTable('hideColumn', 'dragMark');
                if (lightLeakage == 0) $('#tableOthersDefect').bootstrapTable('hideColumn', 'lightLeakage');
                if (lightBubble == 0) $('#tableOthersDefect').bootstrapTable('hideColumn', 'lightBubble');
                if (whiteDotInMaterial == 0) $('#tableOthersDefect').bootstrapTable('hideColumn', 'whiteDotInMaterial');
                if (other == 0) $('#tableOthersDefect').bootstrapTable('hideColumn', 'other');
                if (qa == 0) $('#tableOthersDefect').bootstrapTable('hideColumn', 'qa');


            },
            onLoadError: function () {  //加载失败时执行
                console.log("加载数据失败");
            }

        });
    }




    $(window).resize(function () {
        $('#tableMouldingDefect').bootstrapTable('resetView');
        $('#tablePaintingDefect').bootstrapTable('resetView');
        $('#tableLaserDefect').bootstrapTable('resetView');
        $('#tableOthersDefect').bootstrapTable('resetView');
    });

</script>